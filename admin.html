<script>
  const basePath = window.location.pathname.split("/")[1];
  const orders = JSON.parse(localStorage.getItem("orders")) || {};
  const ordersDiv = document.getElementById("adminOrders");

  Object.keys(orders).forEach(table => {
    const items = orders[table];
    const div = document.createElement("div");
    div.className = "bg-white rounded-xl shadow p-4";
    div.innerHTML = `
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-lg font-semibold">Table ${table}</h2>
        <button onclick="clearOrder('${table}')" class="text-sm text-red-600 hover:underline">✅ Mark All as Completed</button>
      </div>
      <ul class="list-disc pl-5 space-y-1">
        ${items.map(i => `<li>${i.emoji} ${i.name} - ₹${i.price} ${i.spec ? `(Spec: ${i.spec})` : ""}</li>`).join("")}
      </ul>
    `;
    ordersDiv.appendChild(div);
  });

  function clearOrder(table) {
    delete orders[table];
    localStorage.setItem("orders", JSON.stringify(orders));
    location.reload();
  }
</script>
